<head>
  <link rel="stylesheet" href="/user/css/userLoginPage.css" />
</head>
<style>
  .signinContainer {
    min-height: 400px;
    display: flex;
    padding: 0 !important;
    justify-content: center;
  }
  @media (max-width: 765px) {
    .image {
      display: none;
    }
  }
</style>
<body>
  <div
    style="
      display: flex;
      justify-content: center;
      padding: 5px;
      height: 100vh;
      align-items: center;
    "
  >
    <div class="container card signinContainer" style="height: fit-content">
      <div class="signin-form">
        <h2 class="form-title">OTP</h2>
        <form
          action="/registration/otpRecieved"
          method="POST"
          class="register-form"
          id="login-form"
        >
          <div class="form-group">
            <input
              type="number"
              name="otp"
              id="your_name"
              placeholder="Enter OTP"
              required
            />
            <%if(warning){%>
            <p><%= warning %></p>
            <%}%>
          </div>
          <div class="form-group form-button">
            <input
              type="submit"
              name="signin"
              id="signin"
              class="form-submit"
              value="Proceed"
            />
          </div>
        </form>
        <button
          class="btn btn-danger mt-2"
          id="resend-button"
          btn
          btn-dark
          onclick="resendOtp()"
          style="margin: auto"
        >
          Resend OTP
        </button>
      </div>
    </div>
    <script>
      function disable() {
        const resend_button = document.getElementById('resend-button');
        resend_button.disabled = true;
      }
      disable(); //actually it is evolking onload

      setTimeout(function () {
        const resend_button = document.getElementById('resend-button');
        resend_button.disabled = false;
        const submitButton = document.getElementById('submitButton');
        submitButton.disabled = true;
      }, 60000);

      let count = 60;
      const timerDiv = document.getElementById('resend-button');

      const timer = setInterval(function () {
        count--;
        if (count > 0) {
          timerDiv.textContent = 'Resend OTP in ' + count + 's';
        } else {
          timerDiv.textContent = 'Resend OTP';
        }
      }, 1000);

      setTimeout(function () {
        clearInterval(timer);
      }, 60000);
    </script>
  </div>
</body>
